<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Домашние работы</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <script type="text/javascript" src=" https://code.jquery.com/jquery-1.11.2.js "></script>
</head>
<body>
<div th:insert="~{header}"></div>
<div class="container-fluid">
    <div class="card">
        <div class="card-body">
            <div class="row">
                <form action="/markup/" method="get" id="form_filter">
                    <input id="form_token" type="hidden" name="csrfmiddlewaretoken"
                           value="IOIk6NaVNaRWMOstXynmIvsGRUZH54GjbB6ck1EfiG6SJWb86ExZhTTw05LLmpck" form="form_filter">
                </form>
                <div class="col-4">
                    <div class="input-group mb-2">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Начало периода:</span>
                        </div>
                        <input class="form-control" type="month" name="date_from" id="date_from" value="2020-02"
                               form="form_filter">
                    </div>
                </div>
                <div class="col-4">
                    <div class="input-group mb-2">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Конец периода:</span>
                        </div>
                        <input class="form-control" type="month" name="date_to" id="date_to" value="2020-03"
                               form="form_filter">
                    </div>
                </div>
                <div class="col-4">
                    <div class="input-group mb-2">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Поиск по табельным номерам:</span>
                        </div>
                        <input class="form-control" type="text" name="tab_id" id="tab_id" form="form_filter"
                               placeholder="123,456">
                    </div>
                </div>
            </div>
            <div class="row align-items-center">
                <div class="col-xl-4">
                    <div class="row">

                        <div class="col-xl">
                            <input name="service" type="radio" value="1" form="form_filter" checked=""> УСО КРЕЗ
                        </div>

                        <div class="col-xl">
                            <input name="service" type="radio" value="2" form="form_filter"> УУП КРЕЗ
                        </div>

                        <div class="col-xl">
                            <input name="service" type="radio" value="3" form="form_filter"> УУП КВП
                        </div>

                    </div>
                </div>
                <iframe id="export_frame" style="display:none;"></iframe>
                <div class="col-xl-4 float-right">
                    <button onclick="prepareExcel()" id="excel-form-submit-button" type="submit"
                            class="btn btn-warning btn-block" tabindex="5" form="">Экспортировать в Excel
                    </button>
                </div>
                <div class="col-xl-2 float-right">
                    <button id="form-submit-button" form="form_filter" type="submit" class="btn btn-success btn-block"
                            tabindex="5">Запросить
                        данные
                    </button>
                </div>
                <div class="col-xl-2 float-right">
                    <button onclick="cleanInputsByForm(this.form)" class="btn btn-block btn-custom-gray" id="form_clean"
                            tabindex="7" type="button" form="form_filter">Сбросить фильтр
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="table">
            <table class="table table-bordered">
                <thead class="thead-light">
                <tr>
                    <th scope="col">Таб №</th>

                    <th scope="col">Среднее значение</th>
                    <th scope="col">Разметка</th>
                </tr>
                </thead>
                <tbody>
                <tr class="data__row" th:each="hw : ${homework}">
                    <td class="data__item" th:text="${hw.title}"></td>
                    <td class="data__item" th:text="${student.getEmail()}"></td>
                    <td class="data__item" th:text="${student.getPhone()}"></td>
                    <td class="data__item"><a th:href="@{'/students/' + ${student.getId()}}" th:text="Изменить"></a>
                    </td>
                    <td class="data__item">
                        <form th:method="DELETE" th:action="@{'/students/' + ${student.getId()}}">
                            <label>
                                <input th:type="submit" th:value="Удалить">
                            </label>
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>